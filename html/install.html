<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>DNSSEC for tinydns - Installation</title>
<link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body>

<div id="menu">
<ul>
<li><a href="index.html">Home</a></li>
<li><a href="howto.html">Howto</a></li>
<li>Installation</li>
</ul>

<form action="https://www.paypal.com/cgi-bin/webscr" method="post">  
  
    <!-- Identify your business so that you can collect the payments. -->  
    <input type="hidden" name="business" value="donate@tinydnssec.org">
  
    <!-- Specify a Donate button. -->  
    <input type="hidden" name="cmd" value="_donations">  
  
    <!-- Specify details about the contribution -->  
    <input type="hidden" name="item_name" value="The tinydnssec project">
    <!--input type="hidden" name="item_number" value="Fall Cleanup Campaign">  
    <input type="hidden" name="currency_code" value="USD"-->  
  
    <!-- Display the payment button. -->  
    <input type="image" name="submit" border="0"  
	src="https://www.paypal.com/en_US/i/btn/btn_donate_LG.gif"  
	alt="PayPal - The safer, easier way to pay online">  
    <img alt="" border="0" width="1" height="1"  
	src="https://www.paypal.com/en_US/i/scr/pixel.gif" >  
</form>
</div>

<div id="content">

<h1>Installation of the tinydnssec patch</h1>

<h2>Requirements</h2>

<p>
This patch is <b>not</b> against stock djbdns. Here's the minimal set of patches
to install before the tinydnssec patch applies:
</p>
<ol>
<li><a href="http://www.fefe.de/dns/">http://www.fefe.de/dns/</a>djbdns-1.05-test25.diff.bz2<br>
   Unfortunately, fefe refuses to name a license for this patch, which means
   that I cannot redistribute it.</li>
<li>A modified version of <a href="http://homepage.ntlworld.com./jonathan.deboynepollard/Softwares/djbdns/">JdB-P</a>'s tinydns-alias-chain-truncation patch.<br>
   I modified it so that it works together with fefe's IPv6 patch.</li>

<li>My own fixes to the Makefile (IPv6-related): djbdns-ipv6-make.patch</li>
</ol>

<h2>Build</h2>

<ol>
<li>Download and unpack the <a href="http://cr.yp.to/djbdns/install.html">original djbdns sources</a>.</li>
<li>Download and apply the patches listed above.</li>
<li>Download and unpack <a href="tinydnssec-1.05-1.tar.gz">tinydnssec</a> in
    the top-level source directory.</li>
<li>Apply djbdns-1.05-dnssec.patch.</li>
<li>Install as per
    <a href="http://cr.yp.to/djbdns/install.html">usual instructions</a>.</li>
<li>Optional: run tests (see below).</li>
<li>Install djbdns as per original instructions, or whatever your preferred
    method is.</li>
<li>Install <code>tinydns-sign.pl</code> in your preferred location for system
    executables, like e. g. <code>/usr/sbin</code>.</li>
<li>Optional: create a manpage for tinydns-sign using e. g.<br>
    <code>pod2man -s 8 -c '' "tinydns-sign.pl" &gt;tinydns-sign.8</code><br>
    then install it in your preferred location for system manpages.</li>
</ol>

<h2>Test</h2>

<p>
For example:
</p>

<ul>
<li><code>run-tests.sh</code> will sign <code>test/data</code> using keys from
    <code>test/example*</code>, then issue
some queries using tinydns-get, i. e. without any networking involved.
</li>
<li>As root, start tinydns / axfrdns on a local address (127.0.0.3), then execute<br>
<code>SERVER=127.0.0.3 run-tests.sh -t -u</code><br>
to test the same queries via tcp and udp.
</li>
</ul>

</div>

</body>
</html>
