<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>DNSSEC for tinydns - Installation</title>
<link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body>

<div id="menu">
<ul>
<li><a href="index.html">Home</a></li>
<li><a href="howto.html">Howto</a></li>
<li>Installation</li>
</ul>
</div>

<div id="content">

<h1>Installation of the tinydnssec patch</h1>

<h2>Requirements</h2>

<p>
This patch is <b>not</b> against stock djbdns. Here's the minimal set of patches
to install before the tinydnssec patch applies:
</p>
<ol>
<li><a href="http://www.fefe.de/dns/">http://www.fefe.de/dns/</a>djbdns-1.05-test28.diff.xz<br>
   Unfortunately, fefe refuses to name a license for this patch, which means
   that I cannot redistribute it.</li>

<li>My own fixes to the Makefile (IPv6-related): djbdns-ipv6-make.patch</li>
</ol>

<h2>Build</h2>

<ol>
<li>Download and unpack the <a href="http://cr.yp.to/djbdns/install.html">original djbdns sources</a>.</li>
<li>Download and apply the patches listed above.</li>
<li>Download and unpack <a href="tinydnssec-1.05-1.8.tar.gz">tinydnssec</a> in
    the top-level source directory.</li>
<li>Apply djbdns-1.05-dnssec.patch.</li>
<li>Install as per
    <a href="http://cr.yp.to/djbdns/install.html">usual instructions</a>.</li>
<li>Optional: run tests (see below).</li>
<li>Install djbdns as per original instructions, or whatever your preferred
    method is.</li>
<li>Install <code>tinydns-sign.pl</code> in your preferred location for system
    executables, like e. g. <code>/usr/sbin</code>.</li>
<li>Optional: create a manpage for tinydns-sign using e. g.<br>
    <code>pod2man -s 8 -c '' "tinydns-sign.pl" &gt;tinydns-sign.8</code><br>
    then install it in your preferred location for system manpages.</li>
</ol>

<h2>Test</h2>

<p>
For example:
</p>

<ul>
<li><code>run-tests.sh</code> will sign <code>test/data</code> using keys from
    <code>test/example*</code>, then issue
some queries using tinydns-get, i. e. without any networking involved.
</li>
<li>As root, start tinydns / axfrdns on a local address (127.0.0.3), then execute<br>
<code>SERVER=127.0.0.3 run-tests.sh -t -u</code><br>
to test the same queries via tcp and udp.
</li>
</ul>

<h2>License information</h2>

<p>
(C) 2012,2015,2017,2019,2020 Peter Conrad
</p>
<p>
This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License version 3 as
published by the Free Software Foundation.
</p>
<p>
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
</p>
<p>
You should have received a copy of the GNU General Public License
along with this program.  If not, see
<a href="http://www.gnu.org/licenses/gpl-3.0-standalone.html">http://www.gnu.org/licenses/</a>.
</p>

</div>

</body>
</html>
